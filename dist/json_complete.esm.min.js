/* @license BSL-1.0 https://git.io/fpQEc */
var e=e=>{const r=e.split(/([A-Z$_]+)/);return{e:r[1],r:Number(r[2])}},r="0123456789abcdefghijklmnopqrstuvwxyz!#%&'()*+-./:;<=>?@[]^`{|}~";const n=r.length;var t=e=>{let t="";do{t=r[e%n]+t,e=Math.floor(e/n)}while(e);return t},o=(r,n,o)=>o[r]&&0!==o[r].n?1===o[r].n?n.join(","):n.map(r=>r.map(r=>r.map(r=>{const n=e(r);return n.e+t(n.r)}).join("")).join(" ")).join(","):n,a=e=>Object.prototype.toString.call(e).slice(8,-1),i=(e,r)=>{if(void 0===r)return"K";if(null===r)return"L";if(!0===r)return"T";if(!1===r)return"F";if("number"==typeof r){if(r===1/0)return"I";if(r===-1/0)return"J";if(r!=r)return"C";if(0===r&&1/r==-1/0)return"M"}if("function"==typeof Set&&r instanceof Set)return"U";if("function"==typeof Map&&r instanceof Map)return"V";let n=a(r);const t=e.t[n];return t&&"object"==typeof r&&(n=t),e.o[n]};const c=e=>{if("function"!=typeof Map||"Map"!==a(new Map))return!1;if("function"!=typeof Symbol||"Symbol"!==a(Symbol())||!e)return!0;const r={};r[Symbol()]=1;const n=new Map;for(let e=0;e<50;e+=1)n.set(Object.getOwnPropertySymbols(r)[0],{});return 1===n.size};var u=e=>{if(c(e)){const e=new Map;return{a:r=>e.get(r),i:(r,n)=>{e.set(r,n)},c:(r,n)=>{n=n||0;let t=0;return e.forEach(e=>{t>=n&&r(e),t+=1}),t}}}const r=[],n=[];return{a:e=>{for(let t=0;t<r.length;t+=1)if(r[t]===e)return n[t]},i:(e,t)=>{r.push(e),n.push(t)},c:(e,r)=>{let t;for(t=r||0;t<n.length;t+=1)e(n[t]);return t}}},f=(e,r)=>{const n=[],t={};let o;Array.prototype.forEach.call(e,(e,r)=>{t[String(r)]=1,n.push(r)}),o=null==e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e?[]:Object.keys(e).filter(e=>!t[e]),r&&"function"==typeof Symbol&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(e=>Symbol[String(e).slice(14,-1)]!==e)));let a=0;return n.concat(o).reduce((r,n)=>(n===a?(a+=1,r.u.push(e[n])):(r.f.push(n),r.y.push(e[n])),r),{u:[],f:[],y:[]})},y=(r,n)=>{if(r.s[n])return r.s[n].p;const t=e(n);return r.s[t.e]?r.d[n].l:n},s=(e,r)=>{for(let n=0;n<r.m[0].length;n+=1)r.l[n]=y(e,r.m[0][n])},_=(r,n,t,o)=>{for(let a=0;a<(n.m[t]||[]).length;a+=1){const i=n.m[t][a];if(r.b&&"function"!=typeof Symbol&&"P"===e(i).e)return;n.l[y(r,i)]=y(r,n.m[o][a])}},p=(r,n)=>{if(r.s[n])return r.s[n].p;const t=e(n);return r.s[t.e].g(r,r.w[t.e][t.r])},l=(e,r)=>0===r.f.length?e:e.concat([r.f,r.y]);const d=e=>({v:a(new e),n:2,h:(e,r)=>l([Array.prototype.slice.call(new Uint8Array(e))],r),g:(r,n)=>{const t=n[0],o=new e(t.length),a=new Uint8Array(o);return t.forEach((e,n)=>{a[n]=p(r,e)}),o},j:(e,r)=>{s(e,r),_(e,r,1,2)}});var m=e=>("function"==typeof ArrayBuffer&&(e.W=d(ArrayBuffer)),"function"==typeof SharedArrayBuffer&&(e.X=d(SharedArrayBuffer)),e),b=e=>(e.A={v:"Array",n:2,h:(e,r)=>l([r.u],r),g:()=>[],j:(e,r)=>{s(e,r),_(e,r,1,2)}},e.Q={v:"Arguments",n:2,h:(e,r)=>l([r.u],r),g:(e,r)=>(function(){return arguments}).apply(null,Array(r[0].length)),j:(e,r)=>{s(e,r),_(e,r,1,2)}},e),g=(e,r)=>({v:a(e("")),n:r||0,h:e=>String(e),g:(r,n)=>e(n),j:()=>{}}),A=e=>(e.S=g(String),e.N=g(Number,1),e),w=e=>({v:a(new e),n:2,h:(e,r)=>l([r.u],r),g:(r,n)=>new e(n[0].length),j:(e,r)=>{s(e,r),_(e,r,1,2)}}),v=e=>("function"==typeof BigInt&&(e._=g(BigInt,1)),"function"==typeof BigInt64Array&&(e.BI=w(BigInt64Array)),"function"==typeof BigUint64Array&&(e.BU=w(BigUint64Array)),e);const S=(r,n,t)=>({v:r,n:2,h:(e,r)=>l([[void 0].concat(n.map(r=>e[r]))],r),x:(e,r,n,t)=>{const o=new FileReader;o.addEventListener("loadend",()=>{r[0][0]=n(new Uint8Array(o.result)),t()}),o.readAsArrayBuffer(e)},g:(r,n)=>{const o=e(n[0][0]),a="un"===o.e?[]:r.w[o.e][o.r][0];return t(r,[new Uint8Array(a.map(e=>p(r,e)))],n[0])},j:(e,r)=>{_(e,r,1,2)}});var E=e=>("function"==typeof Blob&&(e.Y=S("Blob",["type"],(e,r,n)=>new Blob(r,{type:p(e,n[1])})),e.Z=S("File",["type","name","lastModified"],(e,r,n)=>{try{return new File(r,p(e,n[2]),{type:p(e,n[1]),lastModified:p(e,n[3])})}catch(t){if(e.b){const t=new Blob(r,{type:p(e,n[1])});return t.name=p(e,n[2]),t.lastModified=p(e,n[3]),t}throw t}})),e),R=e=>(e.D={v:"Date",n:2,h:(e,r)=>l([[e.valueOf()]],r),g:(e,r)=>new Date(p(e,r[0][0])),j:(e,r)=>{_(e,r,1,2)}},e);const N={EvalError:EvalError,RangeError:RangeError,ReferenceError:ReferenceError,SyntaxError:SyntaxError,TypeError:TypeError,URIError:URIError};var T=e=>(e.E={v:"Error",n:2,h:(e,r)=>l([[N[e.name]?e.name:"Error",e.message,e.stack]],r),g:(e,r)=>{const n=r[0],t=new(N[p(e,n[0])]||Error)(p(e,n[1]));return t.stack=p(e,n[2]),t},j:(e,r)=>{_(e,r,1,2)}},e),h=e=>("function"==typeof Set&&(e.U={v:"Set",n:2,h:(e,r)=>{const n=[];return e.forEach(e=>{n.push(e)}),l([n],r)},g:()=>new Set,j:(e,r)=>{r.m[0].forEach(n=>{r.l.add(y(e,n))}),_(e,r,1,2)}}),"function"==typeof Map&&(e.V={v:"Map",n:2,k:1,h:(e,r)=>{const n=[],t=[];return e.forEach((e,r)=>{n.push(r),t.push(e)}),l([n,t],r)},g:()=>new Map,j:(e,r)=>{for(let n=0;n<r.m[0].length;n+=1)r.l.set(y(e,r.m[0][n]),y(e,r.m[1][n]));_(e,r,2,3)}}),e),U=e=>(e.O={v:"Object",n:2,h:(e,r)=>l([],r),g:()=>({}),j:(e,r)=>{_(e,r,0,1)}},e);const M=e=>void 0===e.flags?e.options:e.flags;var V=e=>(e.R={v:"RegExp",n:2,h:(e,r)=>l([[e.source,M(e),e.lastIndex]],r),g:(e,r)=>{const n=r[0],t=new RegExp(p(e,n[0]),p(e,n[1]));return t.lastIndex=p(e,n[2]),t},j:(e,r)=>{_(e,r,1,2)}},e),B=e=>(e.K={p:void 0},e.L={p:null},e.T={p:!0},e.F={p:!1},e.I={p:1/0},e.J={p:-1/0},e.C={p:NaN},e.M={p:-0},e),I=e=>("function"==typeof Symbol&&(e.P={v:"Symbol",n:0,h:e=>{const r=Symbol.keyFor(e);return void 0!==r?`r${r}`:`s${String(e).slice(7,-1)}`},g:(e,r)=>"r"===r[0]?Symbol.for(r.slice(1)):Symbol(r.slice(1)),j:()=>{}}),e),F=e=>("function"==typeof Int8Array&&(e.IE=w(Int8Array)),"function"==typeof Int16Array&&(e.IS=w(Int16Array)),"function"==typeof Int32Array&&(e.IT=w(Int32Array)),"function"==typeof Uint8Array&&(e.$=w(Uint8Array)),"function"==typeof Uint8ClampedArray&&(e.UC=w(Uint8ClampedArray)),"function"==typeof Uint16Array&&(e.US=w(Uint16Array)),"function"==typeof Uint32Array&&(e.UT=w(Uint32Array)),"function"==typeof Float32Array&&(e.FT=w(Float32Array)),"function"==typeof Float64Array&&(e.FS=w(Float64Array)),e);const O=e=>({v:`_${a(new e(""))}`,n:2,h:(e,r)=>l([[e.valueOf()]],r),g:(r,n)=>new e(p(r,n[0][0])),j:(e,r)=>{_(e,r,1,2)}});var j=e=>(e.B=O(Boolean),e.G=O(String),e.H=O(Number),e);let x={};var $=x=v(x=E(x=m(x=F(x=h(x=I(x=T(x=V(x=R(x=U(x=b(x=j(x=A(x=B(x))))))))))))));const C=(e,r)=>{const n=i(e,r);if(!n&&!e.b){const e=a(r);throw new Error(`Cannot encode unsupported type "${e}".`)}return n||"O"},k=(e,r)=>{const n=C(e,r);if(!e.s[n].j)return n;const t=e.z.a(r,n);if(void 0!==t)return t.q;e.ee[n]=e.ee[n]||[],e.ee[n].push(0);const o=e.ee[n].length-1,a={e:n,r:o,q:n+o,l:r};return e.z.i(r,a),e.s[n].x&&e.re.push(a),a.q},z=(e,r)=>e.z.c(r=>{let n=$[r.e].h(r.l,f(r.l,e.ne));"String"!==a(n)&&(n=n.map(r=>r.map(r=>k(e,r)))),e.ee[r.e][r.r]=n},r),D=(e,r)=>{const n=JSON.stringify([r,"2.0.0"].concat(Object.keys(e.ee).map(r=>[r,o(r,e.ee[r],e.s)])));if("function"!=typeof e.te)return n;e.te(n)};var J=(e,r)=>{r=r||{};let n={},t={};Object.keys($).forEach(e=>{const r=$[e].v;r&&(n[r]=e),"_"===(r||"")[0]&&(t[r.slice(1)]=r)});const o={b:r.compat,ne:r.encodeSymbolKeys,te:r.onFinish,s:$,o:n,t:t,z:u(r.encodeSymbolKeys),re:[],ee:{}},a=k(o,e),i=z(o);if(!(o.re.length>0))return D(o,a);{if("function"!=typeof r.onFinish){if(o.b)return D(o,a);throw new Error("Deferred Types require onFinish option.")}let e=o.re.length;const n=()=>{if(0===(e-=1))return z(o,i),D(o,a)};o.re.forEach(e=>{$[e.e].x(e.l,o.ee[e.e][e.r],e=>k(o,e),n)})}};const q=r.length;var K=e=>e.split("").reduce((e,n)=>e*q+r.indexOf(n),0),Z=(e,r,n)=>n[e]&&0!==n[e].n?1===n[e].n?r.split(","):r.split(",").map(e=>e.split(" ").map(e=>{const r=e.split(/([A-Z$_]+)/).slice(1),t=[];for(let e=0;e<r.length;e+=2){const o=r[e],a=n[o]&&!n[o].v;t.push(a?o:o+K(r[e+1]))}return t})):r;const L=(e,r)=>{"Array"===a(r)?r.forEach(r=>{L(e,r)}):e.oe.push(r)},P=(r,n)=>{const t=e(n);if(!$[t.e]){if(r.b)return;throw new Error(`Cannot decode unrecognized pointer type "${t.e}".`)}if(!$[n]&&void 0===r.d[n]){r.d[n]={e:t.e,r:t.r,q:n,l:void 0,m:r.w[t.e][t.r]};try{r.d[n].l=$[t.e].g(r,r.w[t.e][t.r])}catch(e){if(!r.b)throw new Error(`Cannot decode recognized pointer type "${t.e}".`)}"Array"===a(r.d[n].m)&&L(r,r.d[n].m)}};var G=(r,n)=>{n=n||{};const t=JSON.parse(r),o=t.slice(2).reduce((e,r)=>(e[r[0]]=Z(r[0],r[1],$),e),{}),a=t[0],i={b:n.compat,s:$,w:o,d:{},oe:[]};if($[a])return $[a].p;const c=e(a);if(!$[c.e]){if(i.b)return a;throw new Error(`Cannot decode unrecognized pointer type "${c.e}".`)}for(i.oe.push(a);i.oe.length;)P(i,i.oe.shift());return Object.keys(i.d).forEach(e=>{const r=i.d[e];$[r.e].j(i,r)}),i.d[a].l},H={encode:J,decode:G};export default H;